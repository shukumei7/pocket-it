<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote Desktop â€” Pocket IT</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #0f1923;
            color: #c7d5e0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .toolbar {
            background: #1b2838;
            border-bottom: 1px solid #2a475e;
            padding: 8px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            flex-shrink: 0;
        }
        .toolbar .device-name {
            font-weight: 600;
            font-size: 15px;
            color: #66c0f4;
        }
        .toolbar .status {
            font-size: 13px;
            color: #8f98a0;
        }
        .toolbar .spacer { flex: 1; }
        .toolbar label {
            font-size: 12px;
            color: #8f98a0;
        }
        .toolbar select {
            background: #0f1923;
            border: 1px solid #2a475e;
            color: #c7d5e0;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }
        .toolbar button {
            background: #2a475e;
            color: #c7d5e0;
            border: none;
            padding: 6px 14px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
        }
        .toolbar button:hover {
            background: #3d6580;
        }
        .toolbar .btn-disconnect {
            background: #4a1919;
            color: #ef5350;
        }
        .toolbar .btn-disconnect:hover {
            background: #6a2222;
        }
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        .sidebar {
            width: 220px;
            background: #1b2838;
            border-right: 1px solid #2a475e;
            overflow-y: auto;
            flex-shrink: 0;
            transition: margin-left 0.2s;
            display: flex;
            flex-direction: column;
        }
        .sidebar.collapsed {
            margin-left: -220px;
        }
        .sidebar-section {
            border-bottom: 1px solid #2a475e;
        }
        .sidebar-section-header {
            padding: 10px 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #66c0f4;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            user-select: none;
        }
        .sidebar-section-header:hover { background: rgba(102,192,244,0.05); }
        .sidebar-section-header .arrow { transition: transform 0.2s; font-size: 10px; }
        .sidebar-section-header .arrow.collapsed { transform: rotate(-90deg); }
        .sidebar-section-body { padding: 8px 12px 12px; }
        .sidebar-section-body.collapsed { display: none; }
        .viewer {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            cursor: crosshair;
            position: relative;
        }
        .viewer canvas {
            max-width: 100%;
            max-height: 100%;
            display: block;
        }
        .viewer .overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #8f98a0;
            font-size: 16px;
        }
        .viewer .overlay.hidden { display: none; }
        .sb-btn {
            background: #2a475e;
            color: #c7d5e0;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            width: 100%;
            text-align: left;
        }
        .sb-btn:hover { background: #3d6580; }
        .sb-btn:active { background: #4a7a99; }
        .sb-btn.active { background: #1a5276; border: 1px solid #66c0f4; }
        .tool-grid {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .monitor-list { display: flex; flex-direction: column; gap: 4px; }
        .monitor-btn.active { background: #1a5276; border: 1px solid #66c0f4; }
        .paste-status { font-size: 11px; margin-top: 4px; color: #8f98a0; }
        .upload-zone {
            border: 2px dashed #2a475e;
            border-radius: 6px;
            padding: 16px;
            text-align: center;
            color: #8f98a0;
            font-size: 12px;
            cursor: pointer;
            transition: border-color 0.2s, background 0.2s;
        }
        .upload-zone:hover, .upload-zone.dragover {
            border-color: #66c0f4;
            background: rgba(102,192,244,0.05);
        }
        .upload-zone input { display: none; }
        .upload-status { font-size: 11px; margin-top: 6px; color: #8f98a0; }
        .perf-bar-container { margin-bottom: 8px; }
        .perf-label {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: #8f98a0;
            margin-bottom: 3px;
        }
        .perf-bar {
            height: 6px;
            background: #0f1923;
            border-radius: 3px;
            overflow: hidden;
        }
        .perf-bar-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.5s;
            background: #66c0f4;
        }
        .perf-bar-fill.warn { background: #ffa726; }
        .perf-bar-fill.crit { background: #ef5350; }
        .toggle-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 6px 0;
        }
        .toggle-row + .toggle-row { border-top: 1px solid rgba(42,71,94,0.5); }
        .toggle-label { font-size: 12px; color: #c7d5e0; }
        .toggle-switch {
            position: relative;
            width: 36px;
            height: 20px;
            background: #0f1923;
            border: 1px solid #2a475e;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .toggle-switch.on {
            background: #1a5276;
            border-color: #66c0f4;
        }
        .toggle-switch .toggle-knob {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 14px;
            height: 14px;
            background: #8f98a0;
            border-radius: 50%;
            transition: left 0.2s, background 0.2s;
        }
        .toggle-switch.on .toggle-knob {
            left: 18px;
            background: #66c0f4;
        }
    </style>
</head>
<body>
    <div class="toolbar">
        <span class="device-name" id="device-name">Connecting...</span>
        <span class="status" id="status">Initializing</span>
        <span class="spacer"></span>
        <label>Quality:</label>
        <select id="quality">
            <option value="30">Low</option>
            <option value="50" selected>Medium</option>
            <option value="75">High</option>
        </select>
        <label>FPS:</label>
        <select id="fps">
            <option value="5">5</option>
            <option value="10" selected>10</option>
            <option value="15">15</option>
            <option value="24">24</option>
        </select>
        <label>Scale:</label>
        <select id="scale">
            <option value="0.25">25%</option>
            <option value="0.5" selected>50%</option>
            <option value="0.75">75%</option>
            <option value="1.0">100%</option>
        </select>
        <button id="btn-sidebar" title="Toggle sidebar">&#9776; Sidebar</button>
        <button class="btn-disconnect" id="btn-disconnect">Disconnect</button>
    </div>
    <div class="main-content">
        <div class="sidebar" id="sidebar">
            <!-- Monitors -->
            <div class="sidebar-section">
                <div class="sidebar-section-header">
                    Monitors <span class="arrow">&#9660;</span>
                </div>
                <div class="sidebar-section-body">
                    <div class="monitor-list" id="monitor-list">
                        <div style="color:#8f98a0; font-size:12px;">Waiting for connection...</div>
                    </div>
                </div>
            </div>
            <!-- Actions -->
            <div class="sidebar-section">
                <div class="sidebar-section-header">
                    Actions <span class="arrow">&#9660;</span>
                </div>
                <div class="sidebar-section-body">
                    <button class="sb-btn" id="btn-ctrl-alt-del" style="margin-bottom:4px;">Send Ctrl+Alt+Del</button>
                    <button class="sb-btn" id="btn-paste-keystrokes">Paste Clipboard as Keystrokes</button>
                    <div class="paste-status" id="paste-status"></div>
                </div>
            </div>
            <!-- Tools -->
            <div class="sidebar-section">
                <div class="sidebar-section-header">
                    System Tools <span class="arrow">&#9660;</span>
                </div>
                <div class="sidebar-section-body">
                    <div class="tool-grid">
                        <button class="sb-btn" data-tool="cmd">&#9632; Command Prompt</button>
                        <button class="sb-btn" data-tool="powershell">&#9654; PowerShell</button>
                        <button class="sb-btn" data-tool="control">&#9881; Control Panel</button>
                        <button class="sb-btn" data-tool="eventvwr">&#9888; Events Viewer</button>
                        <button class="sb-btn" data-tool="compmgmt">&#9783; Computer Management</button>
                        <button class="sb-btn" data-tool="regedit">&#9998; Registry Editor</button>
                        <button class="sb-btn" data-tool="services">&#9874; Services</button>
                        <button class="sb-btn" data-tool="taskmgr">&#9776; Task Manager</button>
                    </div>
                </div>
            </div>
            <!-- File Upload -->
            <div class="sidebar-section">
                <div class="sidebar-section-header">
                    File Upload <span class="arrow">&#9660;</span>
                </div>
                <div class="sidebar-section-body">
                    <div class="upload-zone" id="upload-zone">
                        Drop file here or click to browse
                        <input type="file" id="upload-input">
                    </div>
                    <div class="upload-status" id="upload-status"></div>
                </div>
            </div>
            <!-- Performance -->
            <div class="sidebar-section">
                <div class="sidebar-section-header">
                    Performance <span class="arrow">&#9660;</span>
                </div>
                <div class="sidebar-section-body">
                    <div class="perf-bar-container">
                        <div class="perf-label"><span>CPU</span><span id="perf-cpu-val">&mdash;</span></div>
                        <div class="perf-bar"><div class="perf-bar-fill" id="perf-cpu" style="width:0%"></div></div>
                    </div>
                    <div class="perf-bar-container">
                        <div class="perf-label"><span>Memory</span><span id="perf-mem-val">&mdash;</span></div>
                        <div class="perf-bar"><div class="perf-bar-fill" id="perf-mem" style="width:0%"></div></div>
                    </div>
                    <div class="perf-bar-container">
                        <div class="perf-label"><span>Disk</span><span id="perf-disk-val">&mdash;</span></div>
                        <div class="perf-bar"><div class="perf-bar-fill" id="perf-disk" style="width:0%"></div></div>
                    </div>
                </div>
            </div>
            <!-- Toggles -->
            <div class="sidebar-section">
                <div class="sidebar-section-header">
                    Interaction <span class="arrow">&#9660;</span>
                </div>
                <div class="sidebar-section-body">
                    <div class="toggle-row">
                        <span class="toggle-label">IT Input</span>
                        <div class="toggle-switch on" id="toggle-it-input" data-toggle="it_input">
                            <div class="toggle-knob"></div>
                        </div>
                    </div>
                    <div class="toggle-row">
                        <span class="toggle-label">Block User Input</span>
                        <div class="toggle-switch" id="toggle-user-input" data-toggle="user_input">
                            <div class="toggle-knob"></div>
                        </div>
                    </div>
                    <div class="toggle-row">
                        <span class="toggle-label">Privacy Screen</span>
                        <div class="toggle-switch" id="toggle-privacy" data-toggle="privacy_screen">
                            <div class="toggle-knob"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="viewer" id="viewer" tabindex="0">
            <canvas id="canvas"></canvas>
            <div class="overlay" id="overlay">Connecting to device...</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4/dist/socket.io.min.js"></script>
    <script src="desktop.js"></script>
</body>
</html>
